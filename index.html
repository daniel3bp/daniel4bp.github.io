<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON-datan käsittely</title>
    <!-- Linkitetään Bootstrap ja oma CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container mt-5">
        <h1>JSON-datan esitys</h1>
        <div id="vastaus"></div>
        <a href="toteutus.html" class="btn btn-primary mt-3">Siirry toteutuksen sivulle</a>
    </div>

    <script>
        // Haetaan toteutuksen tiedot
        fetch('toteutus.json')  // Muokkaa polku oikeaksi
            .then(function(response) {
                return response.json();  // Muutetaan vastaus JSON-olioksi
            })
            .then(function(responseJson) {
                kerro(responseJson);  // Kutsutaan funktiota, joka käsittelee tiedot
            })
            .catch(function(error) {
                document.getElementById("vastaus").innerHTML = "<p>Tietoa ei pystytä hakemaan</p>";
            });

        // Funktio, joka käsittelee JSON-datan ja näyttää sen HTML:ssä
        function kerro(obj) {
            let tiedot = "<h2>" + obj.toteutus.nimi + "</h2><br>";
            tiedot += "<p><img src='" + obj.toteutus.kuva + "' alt='Toteutuskuva' style='width: 100%;'></p>";
            tiedot += "Toteutuksen ajankohta: " + obj.toteutus.alkamisPvm + " - " + obj.toteutus.loppumisPvm + "<br>";
            tiedot += "Kesto: " + obj.toteutus.kestoViikkoina + " viikkoa<br><hr>";

            tiedot += "<h3>Osallistujat</h3><ul>";
            for (var i = 0; i < obj.toteutus.osallistujat.length; i++) {
                tiedot += "<li>" + obj.toteutus.osallistujat[i] + "</li>";
            }
            tiedot += "</ul>";

            // Näytetään tiedot HTML-sivulla
            document.getElementById("vastaus").innerHTML = tiedot;
        }
    </script>
</body>
</html>
